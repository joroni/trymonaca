<template>
  <div class="page" data-name="product">
    <div class="navbar">
      <div class="navbar-inner sliding">
        <div class="left">
          <a href="#" class="link back">
            <i class="icon icon-back"></i>
            <span class="ios-only">Back</span>
          </a>
        </div>
        <div class="title">{{product.title}}</div>
      </div>
    </div>
    <div class="page-content">

      <main class="mt-3 pt-4">
        <div class="container dark-grey-text mt-2">

          <!--Grid row-->
          <div class="row wow fadeIn" style="visibility: visible; animation-name: fadeIn;">

            <!--Grid column-->
            <div class="col-md-6 mb-4 centered" id="prodImg"><img src="{{product.img}}" class="img-fluid prod-page-image"
                alt="{{product.title}}"></div>

            <!--Grid column-->
            <div class="col-md-6 mb-4">
              <div class="p-1">

                <h2 class="centered" id="thisName">{{product.title}}</h2>
                <p class="lead small centered" id="thisStock">In Stock: {{product.stock}}</p>
              </div>
              <!--Content-->
              <div class="p-1">

                <div class="mb-3 centered" id="thisBadges"><a href=""><span class="mybadge badge {{product.statecolor}} mr-1">{{product.state}}</span></a></div>

                <p class="lead centered" id="thisLead"><span class="mr-1"> <del>{{product.oldprice}}</del></span><span>
                    {{product.price}}</span></p>

                <p class="lead font-weight-bold">Description</p>

                <p id="thisDesc"> {{product.desc}}</p>
                <hr>
                <form class="d-flex justify-content-left" id="thisAddCart">
                  <!-- Default input -->
                </form>



                <div class="block" style="text-align:center;">

                  <div class="input-group qtty-center">
                    <span class="input-group-btn">
                      <button type="button" class="btn manage-qtty  btn-number waves-effect waves-light  grey-border"
                        onclick="app.updateItem('{{product.id}},{{product.stock}}')" data-type="minus">
                        <img src="icons/noun_Remove_1807498-rounded-green.svg">
                      </button>
                    </span>
                    <input type="number" id="prod_{{id}} " readonly name="quant[{{product.id}}]" class="form-control input-number quantity manage-qtty"
                      value="0" min="0" max="100">
                    <span class="input-group-btn">
                      <button type="button" class="btn btn-number waves-effect  submit ladda-button waves-light grey-border prod-{{product.id}}"
                        data-type="plus" data-style="slide-right" onclick="app.addtoCart({{product.id}});">
                        <img src="icons/noun_Plus_1807498-rounded-green.svg">
                      </button>
                    </span>
                  </div>
                  <!--
                  <div class="stepper stepper-small-md stepper-small stepper-init" style="padding:0; float:none; margin:0 auto;">
                    <div class="stepper-button-minus"></div>
                    <div class="stepper-input-wrap">
                      <input type="text" readonly>
                    </div>
                    <div class="stepper-button-plus" ></div>
                    <a href="#" class="test">Test</a>
                  </div>
                </div>
              </div>-->
                  <!--Content-->

                </div>
                <!--Grid column-->

              </div>
              <!--Grid row-->

              <hr>



            </div>
      </main>


    </div>
  </div>
  <footer>
    <div class="container-fluid pt-2 pb-2 white">
      <a class="btn btn-success btn-block" href="#" role="button" data-toggle="modal" data-target="#modalCart">View
        Cart
        <a class="cart-icon">
          <span id="totalItems">0</span>

        </a>
        <!---<i class="fa fa-shopping-cart ml-2"></i>
             <span class="badge red super8 z-depth-1 mr-1"> 1 </span>-->
      </a>
    </div>
  </footer>

</template>
<script>
  return {
    data: function () {
      var productId = this.$route.params.id;
      var currentProduct;
      this.$root.products.forEach(function (product) {
        if (product.id === productId) {
          currentProduct = product;
        }
      });
      return {
        product: currentProduct,
      };
    }
  };
</script>
